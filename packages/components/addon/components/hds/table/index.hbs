<table class={{this.classNames}} ...attributes>
  {{#if @columns}}
    <caption class="sr-only" aria-live="polite">{{@caption}} {{this.sortedMessageText}}</caption>
  {{else if @caption}}
    <caption class="sr-only">{{@caption}}</caption>
  {{/if}}
  <colgroup>
    {{#if @columns}}
      {{#each @columns as |column|}}
        {{#if column.width}}
          {{!template-lint-disable no-shadowed-elements}}
          <col width={{column.width}} />
        {{else}}
          <col />
        {{/if}}
        {{!template-lint-enable no-shadowed-elements}}
      {{/each}}
    {{/if}}
  </colgroup>
  <thead class="hds-table__thead">
    {{#if @columns}}
      <Hds::Table::Tr>
        {{#each @columns as |column|}}
          {{#if column.isSortable}}
            <Hds::Table::ThSort
              @isSorted={{eq column.key this.sortBy}}
              @sortOrder={{this.sortOrder}}
              @onClick={{(fn this.setSortBy column.key)}}
              @align={{column.align}}
            >
              {{column.label}}
            </Hds::Table::ThSort>
          {{else}}
            <Hds::Table::Th @align={{column.align}}>{{column.label}}</Hds::Table::Th>
          {{/if}}
        {{/each}}
      </Hds::Table::Tr>
    {{else}}
      {{yield
        (hash Tr=(component "hds/table/tr") Th=(component "hds/table/th") ThSort=(component "hds/table/th-sort"))
        to="head"
      }}
    {{/if}}
  </thead>
  <tbody class="hds-table__tbody">
    {{#if @columns}}
      {{#each (sort-by this.getSortCriteria @model) as |data|}}
        {{yield (hash Tr=(component "hds/table/tr") Td=(component "hds/table/td") data=data) to="body"}}
      {{/each}}
    {{else if @model}}
      {{#each @model as |data|}}
        {{yield (hash Tr=(component "hds/table/tr") Td=(component "hds/table/td") data=data) to="body"}}
      {{/each}}
    {{else}}
      {{yield (hash Tr=(component "hds/table/tr") Td=(component "hds/table/td")) to="body"}}
    {{/if}}
  </tbody>
</table>