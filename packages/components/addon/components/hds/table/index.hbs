<table class={{this.classNames}} ...attributes>
  {{#if this.isSortableTable}}
    <caption class="sr-only" aria-live="polite">{{@caption}} {{this.sortedMessageText}}</caption>
  {{else if @caption}}
    <caption class="sr-only">{{@caption}}</caption>
  {{/if}}
  <thead class="hds-table__thead">
    {{#if this.isSortableTable}}
      <Hds::Table::Tr>
        {{#each this.columns as |column|}}
          {{#if column.isSortableColumn}}
            <Hds::Table::ThSort
              @isSorted={{eq column.key this.sortBy}}
              @sortOrder={{this.sortOrder}}
              @onClick={{(fn this.setSortBy column.key)}}
            >
              {{column.label}}
            </Hds::Table::ThSort>
          {{else}}
            <Hds::Table::Th>{{column.label}}</Hds::Table::Th>
          {{/if}}
        {{/each}}
      </Hds::Table::Tr>
    {{else}}
      {{yield (hash Tr=(component "hds/table/tr") Th=(component "hds/table/th")) to="head"}}
    {{/if}}
  </thead>
  <tbody class="hds-table__tbody">
    {{#if this.isSortableTable}}
      {{#each (sort-by this.getSortCriteria @model) as |data|}}
        {{yield data to="body"}}
      {{/each}}
    {{else if @model}}
      {{#each @model as |record|}}
        {{yield record to="body"}}
      {{/each}}
    {{else}}
      {{yield to="body"}}
    {{/if}}
  </tbody>
</table>