{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: MPL-2.0
}}

{{page-title "Tooltip Component"}}

<Shw::Text::H1>Tooltip</Shw::Text::H1>

<section data-test-percy>
  <Shw::Text::H2>TooltipButton</Shw::Text::H2>

  <Shw::Text::H3>Content</Shw::Text::H3>

  <Shw::Text::H4>On its own</Shw::Text::H4>
  <Shw::Flex as |SF|>
    <SF.Item @label="With a FlightIcon as content">
      <Hds::TooltipButton @text="Here is more information">
        <FlightIcon @name="alert-circle" />
      </Hds::TooltipButton>
    </SF.Item>

    <SF.Item @label="With text as content and using bold and em tags to format tooltip text">
      <Hds::TooltipButton @text="<b>Hello</b> to <em>you</em>!">
        Hover me
      </Hds::TooltipButton>
    </SF.Item>

    <SF.Item @label="With an HTML time element as content">
      <Hds::TooltipButton @text="2023-03-30T19:18:01.684Z">
        <time datetime="2023-03-30T19:18:01.684Z">Apr 5, 2023</time>
      </Hds::TooltipButton>
    </SF.Item>

    <SF.Item @label="With really long content in tooltip">
      <Hds::TooltipButton
        @text="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
      >
        <FlightIcon @name="alert-circle" />
      </Hds::TooltipButton>
    </SF.Item>
  </Shw::Flex>

  <Shw::Text::H4>Used next to text</Shw::Text::H4>
  <p>
    <strong>Lorem ipsum dolor sit amet consectetur</strong>
    <Hds::TooltipButton @text="Hello!"><FlightIcon @name="alert-circle" /></Hds::TooltipButton>
  </p>

  <p>
    Lorem ipsum dolor sit amet consectetur
    <Hds::TooltipButton @text="Hello!"><FlightIcon @name="alert-circle" /></Hds::TooltipButton>
    adipisicing elit. Doloremque blanditiis sapiente iste beatae voluptates voluptatum.
  </p>

  <Shw::Divider @level={{2}} />

  <Shw::Text::H3>States</Shw::Text::H3>

  <Shw::Text::Body>
    The button which serves as the opener for the tooltip has no special styles of its own other than for the focus
    state.
  </Shw::Text::Body>

  <Shw::Flex as |SF|>
    {{#let (array "default" "focus") as |states|}}
      {{#each states as |state|}}
        <SF.Item @label={{state}}>
          <div class="shw-component-side-nav-home-link-wrapper">
            <Hds::TooltipButton @text="Hello!" mock-state-value={{state}}><FlightIcon
                @name="alert-circle"
              /></Hds::TooltipButton>
          </div>
        </SF.Item>
      {{/each}}
    {{/let}}

    <SF.Item @label="Tooltip which appears on hover or focus">
      {{! template-lint-disable no-inline-styles }}
      <div data-tippy-root="" id="tippy-9" style="position: relative;">
        <div
          class="tippy-box"
          data-state="visible"
          tabindex="-1"
          data-theme="hds"
          data-animation="fade"
          role="tooltip"
          data-placement="top"
          style="width: min-content;"
        ><div class="tippy-content" data-state="visible">Hello!</div><div
            class="tippy-svg-arrow"
            style="position: absolute; left: 0px; transform: translate3d(22.5px, 0px, 0px);"
          >
            <svg
              class="hds-tooltip-pointer"
              width="16"
              height="7"
              viewBox="0 0 16 7"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path d="M0 7H16L9.11989 0.444571C8.49776 -0.148191 7.50224 -0.148191 6.88011 0.444572L0 7Z"></path>
            </svg></div></div></div>
      {{! template-lint-enable no-inline-styles }}
    </SF.Item>
  </Shw::Flex>

  <Shw::Divider @level={{2}} />

  <Shw::Text::H3>Options</Shw::Text::H3>

  <Shw::Text::H4>Placement</Shw::Text::H4>
  <Shw::Flex as |SF|>
    {{#let
      (array
        "top"
        "top-start"
        "top-end"
        "right"
        "right-start"
        "right-end"
        "bottom"
        "bottom-start"
        "bottom-end"
        "left"
        "left-start"
        "left-end"
      )
      as |placements|
    }}
      {{#each placements as |place|}}
        <SF.Item @label={{place}}>
          <Hds::TooltipButton @text="Hello!" @placement={{place}}><FlightIcon
              @name="alert-circle"
            /></Hds::TooltipButton>
        </SF.Item>
      {{/each}}
    {{/let}}
  </Shw::Flex>

  <Shw::Text::H4>Offset</Shw::Text::H4>
  <Shw::Flex as |SF|>
    <SF.Item @label="Default offset">
      <Hds::TooltipButton @text="Hello!"><FlightIcon @name="alert-circle" /></Hds::TooltipButton>
    </SF.Item>

    <SF.Item @label="Offset: 0 40">
      <Hds::TooltipButton @text="Hello!" @offset={{array 0 40}}><FlightIcon @name="alert-circle" /></Hds::TooltipButton>
    </SF.Item>

    <SF.Item @label="Offset: 20 0">
      <Hds::TooltipButton @text="Hello!" @offset={{array 20 0}}><FlightIcon @name="alert-circle" /></Hds::TooltipButton>
    </SF.Item>
  </Shw::Flex>
</section>

<Shw::Divider />

<section data-test-percy>
  <Shw::Text::H2><code>hds-tooltip</code> modifier</Shw::Text::H2>

  <Shw::Text::H3>Content</Shw::Text::H3>

  <Shw::Text::H4>On its own</Shw::Text::H4>

  <Shw::Flex as |SF|>
    <SF.Item @label="On a button">
      <button type="button" {{hds-tooltip "Hello!"}}><FlightIcon @name="alert-circle" /></button>
    </SF.Item>

    <SF.Item @label="On an anchor">
      <a href="#" {{hds-tooltip "Hello!"}}><FlightIcon @name="alert-circle" /></a>
    </SF.Item>

    <SF.Item @label="On an input">
      <Hds::Form::Field @layout="vertical" as |F|>
        <F.Label @controlId="tooltip-example-control-id">First Name</F.Label>
        <F.Control>
          <input type="text" value="Jane" id="tooltip-example-control-id" {{hds-tooltip "Hello!"}} />
        </F.Control>
      </Hds::Form::Field>
    </SF.Item>

    <SF.Item @label="On a span (not accessible)">
      <span {{hds-tooltip "Invalid usage"}}><FlightIcon @name="alert-circle" /></span>
    </SF.Item>

    <SF.Item @label="On a 'time' tag (not accessible)">
      <time {{hds-tooltip "Invalid usage"}} datetime="2023-03-30T19:18:01.684Z">Mar 30, 2023</time>
    </SF.Item>
  </Shw::Flex>
</section>