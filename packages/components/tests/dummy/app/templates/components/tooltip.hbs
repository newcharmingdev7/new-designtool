{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: MPL-2.0
}}

{{page-title "Tooltip Component"}}

<Shw::Text::H1>Tooltip</Shw::Text::H1>

<section data-test-percy>
  <Shw::Text::H2>Used as a Component (TooltipButton)</Shw::Text::H2>

  <Shw::Text::H3>Basic examples</Shw::Text::H3>

  <Shw::Text::H4>On its own</Shw::Text::H4>
  <Shw::Flex as |SF|>
    <SF.Item @label="With a FlightIcon as content">
      <Hds::TooltipButton @text="Here is more information">
        <FlightIcon @name="alert-circle" />
      </Hds::TooltipButton>
    </SF.Item>

    <SF.Item @label="With text as content and using bold and em tags to format tooltip text">
      <Hds::TooltipButton @text="<b>Hello</b> to <em>you</em>!">
        Hover me
      </Hds::TooltipButton>
    </SF.Item>

    <SF.Item @label="With an HTML time element as content">
      <Hds::TooltipButton @text="2023-03-30T19:18:01.684Z">
        <time datetime="2023-03-30T19:18:01.684Z">Apr 5, 2023</time>
      </Hds::TooltipButton>
    </SF.Item>

    <SF.Item @label="With really long content in tooltip">
      <Hds::TooltipButton
        @text="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
      >
        <FlightIcon @name="alert-circle" />
      </Hds::TooltipButton>
    </SF.Item>
  </Shw::Flex>

  <Shw::Text::H4>Used <em>incorrectly</em> to wrap a block-level element (button wraps div tag)</Shw::Text::H4>
  <Shw::Text::Body>(results in invalid HTML structure)</Shw::Text::Body>
  <Hds::TooltipButton @text="Invalid usage">
    <div><FlightIcon @name="alert-circle" /></div>
  </Hds::TooltipButton>

  <Shw::Text::H4>Used next to text</Shw::Text::H4>
  <p>
    <strong>Lorem ipsum dolor sit amet consectetur</strong>
    <Hds::TooltipButton @text="Hello!"><FlightIcon @name="alert-circle" /></Hds::TooltipButton>
  </p>

  <Shw::Text::H4>Used within a sentence.</Shw::Text::H4>
  <p>
    Lorem ipsum dolor sit amet consectetur
    <Hds::TooltipButton @text="Hello!"><FlightIcon @name="alert-circle" /></Hds::TooltipButton>
    adipisicing elit. Doloremque blanditiis sapiente iste beatae voluptates voluptatum.
  </p>

  <Shw::Divider @level={{2}} />

  <Shw::Text::H3>With different options</Shw::Text::H3>

  <Shw::Text::H4>“Placement” options</Shw::Text::H4>
  <Shw::Text::Body>The default placement is “top”.</Shw::Text::Body>
  <Shw::Flex as |SF|>
    {{#let
      (array
        "top"
        "top-start"
        "top-end"
        "right"
        "right-start"
        "right-end"
        "bottom"
        "bottom-start"
        "bottom-end"
        "left"
        "left-start"
        "left-end"
      )
      as |placements|
    }}
      {{#each placements as |place|}}
        <SF.Item @label={{place}}>
          <Hds::TooltipButton @text="Hello!" @placement={{place}}><FlightIcon
              @name="alert-circle"
            /></Hds::TooltipButton>
        </SF.Item>
      {{/each}}
    {{/let}}
  </Shw::Flex>

  <Shw::Text::H4>“Offset” options</Shw::Text::H4>
  <Shw::Text::Body>Takes two numbers for offset, #1 “skidding” = tooltip displacement from center of opener element, #2
    “distance” = tooltip distance from “opener”</Shw::Text::Body>
  <Shw::Flex as |SF|>
    <SF.Item @label="Default offset">
      <Hds::TooltipButton @text="Hello!"><FlightIcon @name="alert-circle" /></Hds::TooltipButton>
    </SF.Item>

    <SF.Item @label="Offset: 0 40">
      <Hds::TooltipButton @text="Hello!" @offset={{array 0 40}}><FlightIcon @name="alert-circle" /></Hds::TooltipButton>
    </SF.Item>

    <SF.Item @label="Offset: 20 0">
      <Hds::TooltipButton @text="Hello!" @offset={{array 20 0}}><FlightIcon @name="alert-circle" /></Hds::TooltipButton>
    </SF.Item>
  </Shw::Flex>
</section>

<Shw::Divider />

<section data-test-percy>
  <Shw::Text::H2>Used as a Modifier</Shw::Text::H2>

  <Shw::Text::H3>Basic examples</Shw::Text::H3>

  <Shw::Text::H4>On its own</Shw::Text::H4>
  <Shw::Text::Body>(Consumer needs to add styling to opener element)</Shw::Text::Body>

  <Shw::Flex as |SF|>
    <SF.Item @label="Used on a button tag">
      <button type="button" {{hds-tooltip "Hello!"}}><FlightIcon @name="alert-circle" /></button>
    </SF.Item>

    <SF.Item @label="Used on an anchor tag">
      <a href="#" {{hds-tooltip "Hello!"}}><FlightIcon @name="alert-circle" /></a>
    </SF.Item>

    <SF.Item @label="Used on an HTML text input tag combined with HDS form components">
      <Hds::Form::Field @layout="vertical" as |F|>
        <F.Label @controlId="tooltip-example-control-id">First Name</F.Label>
        <F.Control>
          <input type="text" value="Jane" id="tooltip-example-control-id" {{hds-tooltip "Hello!"}} />
        </F.Control>
      </Hds::Form::Field>
    </SF.Item>

    <SF.Item @label="Used on a span tag (not accessible)">
      <span {{hds-tooltip "Invalid usage"}}><FlightIcon @name="alert-circle" /></span>
    </SF.Item>

    <SF.Item @label="Used on a time tag (not accessible)">
      <time {{hds-tooltip "Invalid usage"}} datetime="2023-03-30T19:18:01.684Z">Mar 30, 2023</time>
    </SF.Item>
  </Shw::Flex>

  <Shw::Text::H4>Used on a non-interactive block-level trigger element (div tag as trigger)</Shw::Text::H4>
  <Shw::Text::Body>Not accessible (consumer also needs to add custom styles)</Shw::Text::Body>
  <div {{hds-tooltip "Invalid usage"}}><FlightIcon @name="alert-circle" /></div>
</section>