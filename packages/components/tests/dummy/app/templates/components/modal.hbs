{{page-title "Modal Component"}}

<h2 class="dummy-h2">Modal</h2>

{{! ADD YOUR CONTENT BELOW }}
{{! Please follow as much as possible what it's already done in other components. }}
{{! You can start by copy&pasting it, if you want, and then adapt it according to your needs. }}
{{! Once done, please remove these comments (they're created by the generator). }}

<section>
  <h3 class="dummy-h3" id="overview"><a href="#overview" class="dummy-link-section">§</a> Overview</h3>

  {{! ADD YOUR CONTENT HERE }}

</section>

<section>
  <h3 class="dummy-h3" id="component-api"><a href="#component-api" class="dummy-link-section">§</a> Component API</h3>
  <p class="dummy-paragraph" id="component-api-modal">
    Here is the API for the component:
  </p>
  <dl class="dummy-component-props" aria-labelledby="component-api-modal">

    {{! ADD YOUR CONTENT HERE }}

  </dl>
</section>

<section>
  <h3 class="dummy-h3" id="how-to-use"><a href="#how-to-use" class="dummy-link-section">§</a> How to use</h3>

  {{! ADD YOUR CONTENT HERE }}

</section>

<section>
  <h3 class="dummy-h3" id="design-guidelines"><a href="#design-guidelines" class="dummy-link-section">§</a>
    Design guidelines</h3>
  {{! UNCOMMENT THIS BLOCK (once the link and/or the image are available) }}
  {{!
  <div class="dummy-design-guidelines">
    <p class="dummy-paragraph">
      <a href="[ADD THE LINK TO THE FIGMA FILE/PAGE HERE!]" target="_blank" rel="noopener noreferrer">Figma UI Kit</a>
    </p>
    <br />
    <img class="dummy-figma-docs" src="/assets/images/modal-design-usage.png" alt="" role="none" />
  </div>
  }}
</section>

<section>
  <h3 class="dummy-h3" id="accessibility"><a href="#accessibility" class="dummy-link-section">§</a> Accessibility</h3>

  {{! ADD YOUR CONTENT HERE }}

</section>

<section data-test-percy>
  <h3 class="dummy-h3" id="showcase"><a href="#showcase" class="dummy-link-section">§</a> Showcase</h3>

  <h4 class="dummy-h4">Color</h4>
  {{#each @model.COLORS as |color|}}
    <p class="dummy-paragraph">{{capitalize color}}</p>
    <br />
    <div class="dummy-modal-sample-item">
      <Hds::Modal open @color={{color}} id="modal-example-{{color}}" as |M|>
        <M.Header @icon="info" @tagline="Tagline">
          {{capitalize color}}
        </M.Header>
        <M.Body>
          <p class="hds-typography-body-300 hds-foreground-primary">Modal content</p>
        </M.Body>
        <M.Footer>
          <form method="dialog" aria-label="Form example {{color}}">
            <Hds::ButtonSet>
              <Hds::Button type="submit" @text="Confirm" @color={{if (eq color "critical") "critical"}} />
              <Hds::Button type="submit" @text="Cancel" @color="secondary" />
              <Hds::Button type="submit" @text="Tertiary" @color="tertiary" @icon="plus" />
            </Hds::ButtonSet>
          </form>
        </M.Footer>
      </Hds::Modal>
    </div>
  {{/each}}

  <h4 class="dummy-h4">Size</h4>
  {{#each @model.SIZES as |size|}}
    <p class="dummy-paragraph">{{capitalize size}}</p>
    <br />
    <div class="dummy-modal-sample-item">
      <Hds::Modal open @size={{size}} id="modal-example-{{size}}" as |M|>
        <M.Header @icon="info">
          {{capitalize size}}
        </M.Header>
        <M.Body>
          <p class="hds-typography-body-300 hds-foreground-primary">Modal content</p>
        </M.Body>
        <M.Footer>
          <form method="dialog" aria-label="Form example {{size}}">
            <Hds::ButtonSet>
              <Hds::Button type="submit" @text="Confirm" />
              <Hds::Button type="submit" @text="Cancel" @color="secondary" />
            </Hds::ButtonSet>
          </form>
        </M.Footer>
      </Hds::Modal>
    </div>
  {{/each}}

  {{! This below is just an example of invocation, to get started }}
  <h4 class="dummy-h4">Invocation</h4>
  <Hds::ButtonSet>
    <Hds::Button
      @text="Open basic modal"
      @color="secondary"
      {{on "click" (fn this.activateModal "basicModalActive")}}
    />
    <Hds::Button @text="Open form modal" @color="secondary" {{on "click" (fn this.activateModal "formModalActive")}} />
  </Hds::ButtonSet>

  {{#if this.basicModalActive}}
    <Hds::Modal
      id="invocation-basic-modal"
      @isOpen={{true}}
      @onOpen={{this.noop}}
      @onClose={{fn this.deactivateModal "basicModalActive"}}
      as |M|
    >
      <M.Header @icon="info">
        Modal title
      </M.Header>
      <M.Body>
        <p class="hds-typography-body-300 hds-foreground-primary">Modal content</p>
      </M.Body>
      <M.Footer>
        <form method="dialog" aria-label="Modal example basic invocation">
          <Hds::Button type="submit" @text="Cancel" @color="secondary" />
        </form>
      </M.Footer>
    </Hds::Modal>
  {{/if}}

  {{#if this.formModalActive}}
    <Hds::Modal
      id="invocation-form-modal"
      @isOpen={{true}}
      @onOpen={{this.noop}}
      @onClose={{fn this.deactivateModal "formModalActive"}}
      as |M|
    >
      <M.Header @icon="info">
        Why do you want to leave the beta?
      </M.Header>
      <M.Body>
        <Hds::Form::Select::Field @width="100%" as |F|>
          <F.Label>Select the primary reason</F.Label>
          <F.Options>
            <option></option>
          </F.Options>
        </Hds::Form::Select::Field>
        <Hds::Form::Textarea::Field @isOptional={{true}} as |F|>
          <F.Label>Your feedback</F.Label>
        </Hds::Form::Textarea::Field>
      </M.Body>
      <M.Footer>
        <form method="dialog" aria-label="Modal example form invocation">
          <Hds::ButtonSet>
            <Hds::Button type="submit" @text="Leave Beta" />
            <Hds::Button type="submit" @text="Cancel" @color="secondary" />
          </Hds::ButtonSet>
        </form>
      </M.Footer>
    </Hds::Modal>
  {{/if}}
</section>