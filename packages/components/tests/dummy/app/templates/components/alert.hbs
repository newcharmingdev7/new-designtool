{{page-title "Alert component"}}

<h2 class="dummy-h2">Alerts</h2>

<section>
  <h3 class="dummy-h3">
    Overview
  </h3>

  <p class="dummy-paragraph">
    An Alert is an element that displays a brief, important message in a way that attracts the user's attention, without
    interrupting the user's task.
    <ul>
      <li class="dummy-paragraph">
        Dynamically-rendered Alerts are automatically announced by most screen readers.
      </li>
      <li class="dummy-paragraph">In some operating systems, Alerts may trigger an alert sound.</li>
    </ul>
  </p>
  <p class="dummy-paragraph">
    There are some differences between the alert types we have:
    <ul>
      <li class="dummy-paragraph">
        <strong>Alert (Page)</strong>,
        <strong>Alert (Inline)</strong>, and
        <strong>Alert (Compact)</strong>
        are system-generated messages.
      </li>
      <li class="dummy-paragraph"><strong>Alert (Toasts)</strong> are user-triggered messages.</li>
    </ul>
  </p>
</section>

<section>
  <h3 class="dummy-h3">Alert Component API</h3>
  <p class="dummy-paragraph">Here is the API for the component:</p>

  <p class="dummy-paragraph">
    üöß Note: Exceptions for `compact` could be on a background-color (purple highlight color?) if you want? Or, deviate
    from the other components and go with a table? Seems better than repeating the API 4x, but just a suggestion, up to
    you.
  </p>

  <dl class="dummy-component-props">
    <dt>type <code>enum</code></dt>
    <dd>
      <p>
        <code class="dummy-code">type</code>
        sets the type of alert.
      </p>
      <p>
        A
        <code class="dummy-code">page</code>
        alert is a rectangular alert (no border-radius). A
        <code class="dummy-code">page</code>
        alert typically only has adjacent whitespace to the bottom of it, meaning it's usually flush to the parent
        containing div to its top, left, and right.
      </p>
      <p>
        An
        <code class="dummy-code">inline</code>
        alert is an alert with a border-radius. An
        <code class="dummy-code">inline</code>
        alert typically has adjacent whitespace on all four sides.
      </p>
      <p>
        A
        <code class="dummy-code">compact</code>
        alert only contains an
        <code class="dummy-code">icon</code>
        and
        <code class="dummy-code">description</code>, with smaller proportions than the other alerts.
      </p>
      <p>
        A
        <code class="dummy-code">toast</code>
        alert is an alert that typically displays brief, temporary notifications. Toasts typically disappears on their
        own.
      </p>
      <p>Acceptable values:</p>
      <ol>
        <li class="default">page</li>
        <li>inline</li>
        <li>compact</li>
        <li>toast</li>
      </ol>
    </dd>

    <dt>color <code>enum</code></dt>
    <dd>
      <p>
        <code class="dummy-code">color</code>
        sets the color scheme for background, border,
        <code class="dummy-code">title</code>, and
        <code class="dummy-code">description</code>, which
        <strong>cannot</strong>
        be overriden.
        <code class="dummy-code">color</code>
        results in a default
        <code class="dummy-code">icon</code>, which
        <strong>can</strong>
        be overriden.
      </p>
      <p>Acceptable values:</p>
      <ol>
        <li class="default">neutral</li>
        <li>highlight</li>
        <li>success</li>
        <li>warning</li>
        <li>critical</li>
      </ol>
    </dd>

    <dt class="dummy-indent">icon <code>string</code></dt>
    <dd class="dummy-indent">
      <p>Override the default
        <code class="dummy-code">icon</code>
        name, which is determined by the
        <code class="dummy-code">color</code>. Optional parameter.
      </p>
      <p>
        (Note: The default icon for
        <code class="dummy-code">compact</code>
        is different from the other three alert types.)
      </p>
      <p>Acceptable values:</p>
      <p>Any
        <a href="https://flight-hashicorp.vercel.app/" target="_blank" rel="noopener noreferrer">
          Flight icon</a>
        name, or pass an empty string for no icon.
      </p>
      <p>
        (Note: Required for
        <code class="dummy-code">compact</code>
        alerts.)
      </p>
    </dd>

    <dt>title <code>string</code></dt>
    <dd>
      <p>
        The title text in the alert.
        <code class="dummy-code">title</code>
        <strong>and/or</strong>
        <code class="dummy-code">description</code>
        is required.
      </p>
      <p>
        (Note: N/A for
        <code class="dummy-code">type="compact"</code>.)
      </p>
    </dd>

    <dt>description <code>string</code></dt>
    <dd>
      <p>The description text in the alert.
        <code class="dummy-code">description</code>
        <strong>and/or</strong>
        <code class="dummy-code">title</code>
        is required.
      </p>
      <p>
        (Note: Required for
        <code class="dummy-code">type="compact"</code>.)
      </p>
    </dd>

    <dt>isDismissible <code>boolean</code></dt>
    <p>
      The alert can be dismissed by the user.
    </p>
    <dd>
      <p>Acceptable values:</p>
      <ol>
        <li>true</li>
        <li class="default">false</li>
      </ol>
      <p>
        (Note: N/A for
        <code class="dummy-code">type="compact"</code>.)
      </p>
    </dd>

    <dt>&lt;:actions&gt; <code>named block</code></dt>
    <dd>
      <p>Actions can optionally be passed into the alert as yielded components. The user can use the suggested
        <code class="dummy-code">HDS::Button</code>,
        <code class="dummy-code">HDS::Link::Standalone</code>, and/or
        <code class="dummy-code">HDS::LinkTo::Standalone</code>
        as yielded components. Or, the user can insert their own content to the
        <code class="dummy-code">:actions</code>
        block.
      </p>
    </dd>

    <dt>‚Äúsplattributes‚Äù</dt>
    <dd>
      <p><code class="dummy-code">...attributes</code> spreading is supported on this component.</p>
    </dd>
  </dl>
</section>

<section>
  <h3 class="dummy-h3">How to use</h3>
  <h4 class="dummy-h4">
    Basic invocation: Alert (Page)
  </h4>
  {{! prettier-ignore-start }}
  <CodeBlock
    @language="markup"
    @code='
      <Hds::Alert @title="Title here" @description="Description here" />
    '
  />
  {{! prettier-ignore-end }}

  <p class="dummy-paragraph">Renders to the default
    <code class="dummy-code">type</code>
    of
    <code class="dummy-code">page</code>
    and
    <code class="dummy-code">color</code>
    of
    <code class="dummy-code">neutral</code>:
  </p>
  <Hds::Alert @title="Really cool title here" @description="And a rad description too!" />
  <br />

  <h4 class="dummy-h4">
    Basic invocation: Alert (Inline)
  </h4>
  {{! prettier-ignore-start }}
  <CodeBlock
    @language="markup"
    @code='
      <Hds::Alert @type="inline" @title="Title here" @description="Description here" />
    '
  />
  {{! prettier-ignore-end }}

  <p class="dummy-paragraph">Renders to the default
    <code class="dummy-code">color</code>
    of
    <code class="dummy-code">neutral</code>:
  </p>
  <Hds::Alert @type="inline" @title="Really cool title here" @description="And a rad description too!" />
  <br />

  <h4 class="dummy-h4">
    Basic invocation: Alert (Compact)
  </h4>
  {{! prettier-ignore-start }}
  <CodeBlock
    @language="markup"
    @code='
      <Hds::Alert @type="compact" @description="Description here" />
    '
  />
  {{! prettier-ignore-end }}

  <p class="dummy-paragraph">Renders to the default
    <code class="dummy-code">color</code>
    of
    <code class="dummy-code">neutral</code>:
  </p>
  <Hds::Alert @type="compact" @description="Description only" />
  <br />
  <p class="dummy-paragraph">
    üöß TODO: Flesh out rest of "How to use". Consider showing the alerts with background color, so that compact is more
    clear. Consider showing the alerts with background, so it's clear that `page` is flush to adjacent parent top, left,
    and right, vs. the other alerts. Also will highlight that `page` and `inline` are typically wider than `toast`, as
    the Showcase is arguably misleading, and more for Percy / testing variations dynamically in full.
  </p>
</section>

<section>
  <h3 class="dummy-h3">Design guidelines</h3>
  <p class="dummy-paragraph">üöß TODO: Insert Figma stickersheet here</p>
</section>

<section data-test-percy>
  <h3 class="dummy-h3">Showcase</h3>

  <p class="dummy-paragraph">
    üö® Note: The compact alert is borderless, but shown with a a dotted border throughout the "Showcase" for clarity.
  </p>

  <h4 class="dummy-h4">Type</h4>
  {{#each @model.TYPES as |type|}}
    <p class="dummy-paragraph">{{capitalize type}}</p>
    <br />
    <div class="dummy-alert-sample-item--type-{{type}}">
      <Hds::Alert @type={{type}} @title={{capitalize type}} @description="Lorem ipsum dolor sit amet." />
    </div>
  {{/each}}

  <h4 class="dummy-h4">Color</h4>
  <div class="dummy-alert-sample-grid">
    {{#each @model.COLORS as |color|}}
      <p class="dummy-paragraph dummy-alert-sample-grid__title">{{capitalize color}}</p>
      {{#each @model.TYPES as |type|}}
        <div class="dummy-alert-sample-item--type-{{type}}">
          <Hds::Alert
            @type={{type}}
            @color={{color}}
            @title="{{capitalize type}} title"
            @description="This is the <em>{{type}}</em> alert with <em>{{color}}</em> color."
          />
        </div>
      {{/each}}
    {{/each}}
  </div>

  <h4 class="dummy-h4">Icon</h4>
  <div class="dummy-alert-sample-grid">
    <Hds::Alert @type="inline" @color="highlight" @title="Default icon" @description="Lorem ipsum dolor sit amet." />
    <Hds::Alert
      @type="inline"
      @color="highlight"
      @icon="meh"
      @title="With icon override"
      @description="Lorem ipsum dolor sit amet."
    />
    <Hds::Alert
      @type="inline"
      @color="highlight"
      @icon="running"
      @title="With animated icon"
      @description="Lorem ipsum dolor sit amet."
    />
    <Hds::Alert
      @type="inline"
      @color="highlight"
      @icon=""
      @title="Without icon"
      @description="Lorem ipsum dolor sit amet."
    />
  </div>

  <h4 class="dummy-h4">Content</h4>
  <div class="dummy-alert-sample-grid dummy-alert-sample-grid--wide-content">
    <Hds::Alert @type="inline" @color="success" @title="A simple title" @description="A simple description text" />
    <Hds::Alert
      @type="inline"
      @color="success"
      @title="An alert with a very long title and a long description text that should go on multiple lines"
      @description="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque erat elit, lacinia at magna eget, porttitor lobortis nulla."
    />
    <Hds::Alert @type="inline" @color="success" @title="An alert with just a title and no description text." />
    <Hds::Alert @type="inline" @color="success" @description="An alert with no title and just a description text" />
    <Hds::Alert
      @type="inline"
      @color="success"
      @title="An alert with rich text description (HTML)"
      @description="The description text can support HTML tags embedded in the string value, like <strong>strong</strong> and <em>em</em> as well as <code>code</code> and <a href='#'>links</a>."
    />
    <Hds::Alert
      @type="inline"
      @color="success"
      @title="An alert with extra/custom content"
      @description="In special cases, you can pass extra content to the alert using the <code>actions</code> named block."
    >
      <:actions>
        <DummyPlaceholder @text="some generic content" @height="50" @background="#eee" />
      </:actions>
    </Hds::Alert>
  </div>

  <h4 class="dummy-h4">Actions</h4>
  <div class="dummy-alert-sample-grid dummy-alert-sample-grid--wide-content">
    <Hds::Alert
      @type="inline"
      @color="warning"
      @title="Action passed as yielded component"
      @description="Lorem ipsum dolor sit amet, consectetur adipiscing elit."
    >
      <:actions as |A|>
        <A.Button @text="Action" @size="small" @color="secondary" />
      </:actions>
    </Hds::Alert>
    <Hds::Alert
      @type="inline"
      @color="warning"
      @title="With multiple actions passed as yielded components"
      @description="Lorem ipsum dolor sit amet, consectetur adipiscing elit."
    >
      <:actions as |A|>
        <A.Button @text="Secondary" @size="small" @color="secondary" />
        <A.Button @icon="plus" @text="Tertiary" @size="small" @color="tertiary" />
        <A.Link::Standalone @icon="plus" @text="Standalone" href="#" @size="small" @color="secondary" />
      </:actions>
    </Hds::Alert>
    <Hds::Alert
      @type="inline"
      @color="warning"
      @title="With content yielded in the 'actions' named block"
      @description="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."
    >
      <:actions>
        <DummyPlaceholder @text="some generic content" @height="50" @background="#eee" />
      </:actions>
    </Hds::Alert>
    <Hds::Alert
      @type="inline"
      @color="warning"
      @title="With actions and custom content in the 'actions' named block"
      @description="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."
    >
      <:actions>
        <div>
          <div class="dummy-alert-sample-custom-actions__actions">
            <Hds::Button @text="Action" @size="small" @color="secondary" />
            <Hds::Link::Standalone @icon="plus" @text="Action" href="#" @size="small" @color="secondary" />
          </div>
          <span class="dummy-alert-sample-custom-actions__text">This for example could be extra text, specific for a
            special use case.</span>
        </div>
      </:actions>
    </Hds::Alert>
  </div>

  <h4 class="dummy-h4">Dismiss</h4>
  <div class="dummy-alert-sample-grid dummy-alert-sample-grid--wide-content">
    <Hds::Alert
      @type="inline"
      @color="critical"
      @title="Without the dismiss button (default)"
      @description="Lorem ipsum dolor sit amet, consectetur adipiscing elit."
    />
    <Hds::Alert
      @type="inline"
      @color="critical"
      @title="With the dismiss button"
      @description="Lorem ipsum dolor sit amet, consectetur adipiscing elit."
      {{! TODO: understand if we can use a generic helper - see https://hashicorp.slack.com/archives/C11JCBJTW/p1648751235987409 }}
      @onClose={{this.noop}}
    />
    <Hds::Alert
      @type="inline"
      @color="critical"
      @icon=""
      @title="With the dismiss button and no icon"
      @description="Lorem ipsum dolor sit amet, consectetur adipiscing elit."
      @onClose={{this.noop}}
    />
    <Hds::Alert
      @type="inline"
      @color="critical"
      @description="With the dismiss button and no title"
      @onClose={{this.noop}}
    />
  </div>

</section>

<section>
  <h3 class="dummy-h3">üöß Accessibility</h3>
  <ul>
    <li>color="warning" or color="critical" => role="alert", can have dismiss.</li>
    <li>color="neutral", color="highlight" or color="success" => role="status", can have dismiss.</li>
    <li>Dismiss button, type="button"</li>
    <li>Dismiss has a focus state (e.g. tab to the button)</li>
    <li>When the dismiss button is focused, it should close on return / enter (Note: Close on ESC, would be for modal or a classic role="alertdialog" that is an alert-like modal)</li>
    <li>I think it's arguable if the dismiss needs a hover or active state. The hover state seems good though, especially for a static alert (e.g. not a disappearing toast).</li>
    <li>When the alert has :actions, the role will change to role="alertdialog", as it's requiring a response from the user. role="alertdialog" seems to typically apply to a "modal" alertdialog, but not always. Some DS's refer to all of their alerts with role="alertdialog" instead of role="alert" or role="status".</li>
  </ul>
  <p class="dummy-paragraph">References:</p>
  üöß TODO: Confirm a tag titles for all of these
  <ul>
    <li>
      <a href="https://www.w3.org/TR/wai-aria-practices-1.2/#alert" target="_blank" rel="noopener noreferrer">
        WAI-ARIA Authoring Practices 1.2, Alert (role="alert")
      </a>
    </li>
    <li>
      <a
        href="https://www.w3.org/TR/wai-aria-practices-1.2/examples/alert/alert.html"
        target="_blank"
        rel="noopener noreferrer"
      >
        WAI-ARIA Authoring Practices 1.2, Alert Example (role="alert")
      </a>
    </li>
    <li>
      <a href="https://www.w3.org/WAI/WCAG21/Techniques/aria/ARIA22" target="_blank" rel="noopener noreferrer">
        WAI-ARIA Techniques 1.2, Using role=status to present status messages
      </a>
    </li>
    <li>
      <a
        href="https://www.w3.org/TR/wai-aria-practices-1.2/examples/dialog-modal/alertdialog.html"
        target="_blank"
        rel="noopener noreferrer"
      >
        WAI-ARIA Authoring Practices 1.2, Alert Dialog Example (role="alertdialog")
      </a>
    </li>
  </ul>
</section>

<section>
  <h3 class="dummy-h3">üöß Scratch reference links</h3>
  <ul class="dummy-paragraph">
    <li>
      <a href="https://docs.google.com/document/d/1MC0MTm8-0F26s6Y-gou_RsMj6rtKS6jC-eM7rmruqLY/edit#heading=h.gjdgxs">
        WIP Alert Component Requirement Document (CRD)
      </a>
    </li>
    <li>
      <a
        href="https://www.figma.com/file/noyY6dUMDYjmySpHcMjhkN/branch/Ru0h1oqy6r7SeGxwtQ6085/HDS-Product---Components-%5BWIP%5D?node-id=4023%3A15691"
      >
        WIP Figma file
      </a>
    </li>
  </ul>
</section>