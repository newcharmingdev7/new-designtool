{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: MPL-2.0
}}

{{page-title "Form::FileInput Component"}}

<Shw::Text::H1>Form::FileInput</Shw::Text::H1>

<section data-test-percy>
  <button id="dummy-toggle-highlight" type="button" {{on "click" this.toggleHighlight}}>
    {{if this.showHighlight "Hide" "Show"}}
    layout highlight
  </button>

  <Shw::Text::H2>“Base” control</Shw::Text::H2>

  <Shw::Text::H3>Content</Shw::Text::H3>

  <div class="{{if this.showHighlight 'shw-component-form-file-input-layout-highlight'}}">
    <Shw::Text::H4>On its own</Shw::Text::H4>
    <Shw::Text::Body>
      <code>Input[type=file]</code>
      (styled via
      <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/::file-selector-button">
        <code>::file-selector-button</code>
      </a>)
    </Shw::Text::Body>
    <Hds::Form::FileInput::Base />

    <Shw::Text::H4>Used next to other content</Shw::Text::H4>

    <Shw::Flex @direction="column" {{style gap="2rem"}} as |SF|>
      <SF.Item @label="With text before & after">
        <p class="hds-typography-body-300">
          Lorem ipsum
          <Hds::Form::FileInput::Base />
          dolor sit amet
        </p>
      </SF.Item>

      <SF.Item @label="With text above & below">
        <p class="hds-typography-body-300">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
        <Hds::Form::FileInput::Base />
        <p class="hds-typography-body-300">Ut enim ad minim veniam, quis nostrud exercitation.</p>
      </SF.Item>

      <SF.Item @label="" />
    </Shw::Flex>

    <Shw::Text::H2>States</Shw::Text::H2>

    <Shw::Flex {{style gap="2rem"}} as |SF|>
      {{#each @model.STATES as |state|}}
        <SF.Item @label={{state}}>
          <Hds::Form::FileInput::Base mock-state-value={{state}} />
        </SF.Item>
      {{/each}}
      <SF.Item @label="disabled">
        <Hds::Form::FileInput::Base mock-state-value="disabled" disabled />
      </SF.Item>
    </Shw::Flex>
  </div>

  <Shw::Divider />

  <Shw::Text::H2>“Field” control</Shw::Text::H2>

  <div class="{{if this.showHighlight 'shw-component-form-file-input-layout-highlight'}}">
    <Shw::Text::H3>Content</Shw::Text::H3>

    <Shw::Grid @columns="3" {{style gap="2rem"}} as |SG|>
      <SG.Item @label="Only label">
        <Hds::Form::FileInput::Field @value="Lorem ipsum dolor" as |F|>
          <F.Label>This is the label text</F.Label>
        </Hds::Form::FileInput::Field>
      </SG.Item>
      <SG.Item @label="Label + Helper text">
        <Hds::Form::FileInput::Field @value="Lorem ipsum dolor" as |F|>
          <F.Label>This is the label text</F.Label>
          <F.HelperText>This is the helper text</F.HelperText>
        </Hds::Form::FileInput::Field>
      </SG.Item>
      {{! left empty on purpose }}
      <SG.Item />
      <SG.Item @label="Label + Error">
        <Hds::Form::FileInput::Field @value="Lorem ipsum dolor" @isInvalid={{true}} as |F|>
          <F.Label>This is the label</F.Label>
          <F.Error>This is the error</F.Error>
        </Hds::Form::FileInput::Field>
      </SG.Item>
      <SG.Item @label="Label + Helper text + Error">
        <Hds::Form::FileInput::Field @value="Lorem ipsum dolor" @isInvalid={{true}} as |F|>
          <F.Label>This is the label</F.Label>
          <F.HelperText>This is the helper text</F.HelperText>
          <F.Error>This is the error</F.Error>
        </Hds::Form::FileInput::Field>
      </SG.Item>
      <SG.Item @label="Label + Helper text + Errors">
        <Hds::Form::FileInput::Field @value="Lorem ipsum dolor" @isInvalid={{true}} as |F|>
          <F.Label>This is the label</F.Label>
          <F.HelperText>This is the helper text</F.HelperText>
          <F.Error as |E|>
            <E.Message>First error message</E.Message>
            <E.Message>Second error message</E.Message>
          </F.Error>
        </Hds::Form::FileInput::Field>
      </SG.Item>
    </Shw::Grid>
  </div>

  <Shw::Divider />

  <Shw::Text::H2>HDS Button (for comparison, temporary)</Shw::Text::H2>

  <Shw::Text::Body><code>Hds::Button[@color=secondary]</code> (used as visual reference)</Shw::Text::Body>
  <Hds::Button @icon="upload" @text="Choose file" @color="secondary" />

  <Shw::Text::H3>States</Shw::Text::H3>

  <Shw::Flex {{style gap="2rem"}} as |SF|>
    {{#each @model.STATES as |state|}}
      <SF.Item @label={{state}}>
        <Hds::Button @icon="upload" @text="Choose file" @color="secondary" mock-state-value={{state}} />
      </SF.Item>
    {{/each}}
    <SF.Item @label="disabled">
      <Hds::Button @icon="upload" @text="Choose file" @color="secondary" mock-state-value="disabled" disabled />
    </SF.Item>
  </Shw::Flex>
</section>