{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: MPL-2.0
}}

{{page-title "Accordion Component"}}

<Shw::Text::H1>Accordion</Shw::Text::H1>

<section data-test-percy>
  <Shw::Text::H2>Content</Shw::Text::H2>

  <Shw::Text::H3>Basic</Shw::Text::H3>

  <Shw::Flex {{style gap="1.5rem"}} @direction="column" as |SF|>
    <SF.Item @label="One row">
      <Hds::Accordion>
        <Hds::Accordion::Row>
          <:toggle>Item one</:toggle>
          <:content>
            <Shw::Placeholder @text="generic content" @height="40" @background="#eee" />
          </:content>
        </Hds::Accordion::Row>
      </Hds::Accordion>
    </SF.Item>

    <SF.Item @label="Multiple rows">
      <Hds::Accordion>
        <Hds::Accordion::Row>
          <:toggle>Item one</:toggle>
          <:content>
            <Shw::Placeholder @text="generic content" @height="40" @background="#eee" />
          </:content>
        </Hds::Accordion::Row>

        <Hds::Accordion::Row>
          <:toggle>Another item two</:toggle>
          <:content>
            <Shw::Placeholder @text="generic content" @height="40" @background="#eee" />
          </:content>
        </Hds::Accordion::Row>

        <Hds::Accordion::Row>
          <:toggle>Third item</:toggle>
          <:content>
            <Shw::Placeholder @text="generic content" @height="40" @background="#eee" />
          </:content>
        </Hds::Accordion::Row>
      </Hds::Accordion>
    </SF.Item>
  </Shw::Flex>

  <Shw::Text::H3>Complex</Shw::Text::H3>

  <Shw::Flex {{style gap="1.5rem"}} @direction="column" as |SF|>
    <SF.Item @label="With nested Accordions">
      <Hds::Accordion>
        <Hds::Accordion::Row>
          <:toggle>Item one</:toggle>
          <:content>
            <Hds::Accordion>
              <Hds::Accordion::Row>
                <:toggle>Item one</:toggle>
                <:content>
                  <Shw::Placeholder @text="generic content" @height="40" @background="#eee" />
                </:content>
              </Hds::Accordion::Row>
            </Hds::Accordion>
          </:content>
        </Hds::Accordion::Row>

        <Hds::Accordion::Row>
          <:toggle>Another item two</:toggle>
          <:content>
            <Hds::Accordion>
              <Hds::Accordion::Row>
                <:toggle>Item one</:toggle>
                <:content>
                  <Shw::Placeholder @text="generic content" @height="40" @background="#eee" />
                </:content>
              </Hds::Accordion::Row>
              <Hds::Accordion::Row>
                <:toggle>Item one</:toggle>
                <:content>
                  <Shw::Placeholder @text="generic content" @height="40" @background="#eee" />
                </:content>
              </Hds::Accordion::Row>
            </Hds::Accordion>
          </:content>
        </Hds::Accordion::Row>
      </Hds::Accordion>
    </SF.Item>

    <SF.Item @label="With rich content in toggle (HTML header tag)">
      <Hds::Accordion>
        <Hds::Accordion::Row>
          <:toggle>
            <h4 class="hds-typography-display-300">Header tag example</h4>
          </:toggle>
          <:content>
            <Shw::Placeholder @text="generic content" @height="40" @background="#eee" />
          </:content>
        </Hds::Accordion::Row>
      </Hds::Accordion>
    </SF.Item>

    <SF.Item @label="With rich content in toggle and containing a table">
      <Hds::Accordion>
        <Hds::Accordion::Row>
          <:toggle>
            <Hds::Alert @type="compact" @color="success" as |A|>
              <A.Title>Title</A.Title>
              <A.Description>Plan finished <small>22 days ago</small></A.Description>
            </Hds::Alert>
          </:toggle>
          <:content>
            <p class="hds-typography-body-200">
              <strong>Queued:</strong>
              9 days ago >
              <strong>Finished:</strong>
              9 days ago
            </p>
            <Hds::Table @caption="Example table">
              <:head as |H|>
                <H.Tr>
                  <H.Th>Name</H.Th>
                  <H.Th>Type</H.Th>
                  <H.Th>Value</H.Th>
                </H.Tr>
              </:head>
              <:body as |B|>
                <B.Tr>
                  <B.Td>Cell one A</B.Td>
                  <B.Td>Cell two A</B.Td>
                  <B.Td>Cell three A</B.Td>
                </B.Tr>
                <B.Tr>
                  <B.Td>Cell one B</B.Td>
                  <B.Td>Cell two B</B.Td>
                  <B.Td>Cell three B</B.Td>
                </B.Tr>
              </:body>
            </Hds::Table>
          </:content>
        </Hds::Accordion::Row>
      </Hds::Accordion>
    </SF.Item>
  </Shw::Flex>

  <Shw::Divider @level={{2}} />

  <Shw::Text::H2>States</Shw::Text::H2>

  ???

  <Shw::Divider @level={{2}} />

  <Shw::Text::H2>Options</Shw::Text::H2>

  <Shw::Text::H3>isOpen</Shw::Text::H3>

  <Shw::Flex {{style gap="1.5rem"}} @direction="column" as |SF|>
    <SF.Item @label="Default, isOpen=false">
      <Hds::Accordion>
        <Hds::Accordion::Row>
          <:toggle>Item one</:toggle>
          <:content>
            <Shw::Placeholder @text="generic content" @height="40" @background="#eee" />
          </:content>
        </Hds::Accordion::Row>
      </Hds::Accordion>
    </SF.Item>

    <SF.Item @label="isOpen=true">
      <Hds::Accordion>
        <Hds::Accordion::Row @isOpen={{true}}>
          <:toggle>Item one</:toggle>
          <:content>
            <Shw::Placeholder @text="generic content" @height="40" @background="#eee" />
          </:content>
        </Hds::Accordion::Row>
      </Hds::Accordion>
    </SF.Item>
  </Shw::Flex>
</section>