//
// SIDE-NAV
//

@use "../mixins/focus-ring" as *;

// WIP, naming, etc. will be refined... TODO: Add JSON for color tokens, etc.
:root {
  /* Sizes: */
  --token-side-nav-item-padding-horizontal: 12px;

  /* Colors: */

  /* SideNav container: */
  --token-side-nav-foreground-primary: #dedfe3;
  --token-side-nav-foreground-primary-strong: #fff;
  --token-side-nav-foreground-faint: #8c909c;
  --token-side-nav-surface: #0c0c0e;

  // Interactive elements:
  // base:
  --token-side-nav-interactive-surface-hover: #3b3d45;
  --token-side-nav-interactive-surface-active: #656a76;

  // selected / current:
  --token-side-nav-interactive-selected-surface-default: #656a76;
  --token-side-nav-interactive-selected-surface-hover: #3b3d45;
  --token-side-nav-interactive-selected-surface-active: #656a76;
}


// * SideNav Parent (wrapper) component
// -------------------------------------------------------------------

.hds-side-nav__wrapper {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  color: var(--token-side-nav-foreground-primary); // Default color
  background: var(--token-side-nav-surface);
}

// TODO define exact padding for these containers

.hds-side-nav__wrapper-header {
  padding: 16px;
}

.hds-side-nav__wrapper-body {
  flex: 1;
  padding: 16px;
  overflow-y: auto;
}

.hds-side-nav__wrapper-footer {
  padding: 16px;
}


// Child "wrapper" blocks & child components:

// * Sub-component: Header
// ---------------------------------------
.hds-side-nav__header {
  display: flex;
  gap: 8px; // TODO: replace with margins
  align-items: center;
  padding: 12px;

  .hds-side-nav__home-link {
    margin-right: auto; // Q: Make more generic?
  }
}

.hds-side-nav__home-link {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 48px;
  height: 48px;
  padding: 4px;
  color: var(--token-side-nav-foreground-primary);
  background: var(--token-side-nav-surface);
  border: 1px solid transparent;
  border-radius: 5px;

  &:focus,
  &.mock-focus {
    @include hds-focus-ring-with-pseudo-element();
  }

  &:hover,
  &.hover {
    background: var(--token-side-nav-interactive-surface-hover);
    border-color: transparent;
  }

  &:active,
  &.active {
    background: var(--token-side-nav-interactive-surface-active);
    border-color: transparent;
  }
}

.hds-side-nav__home-link-icon {
  width: auto;
  height: 40px;
}

// class name only, no component:
.hds-side-nav__dropdown {
  .hds-dropdown-toggle-icon {
    color: var(--token-side-nav-foreground-primary);

    &:hover {
      background: var(--token-side-nav-interactive-surface-hover);
    }

    &:active {
      background: var(--token-side-nav-interactive-surface-active);
    }
  }
}

// * Sub-component: Body
// ---------------------------------------
.hds-side-nav__body {
  flex: 1;
  padding: 12px;
  overflow-y: auto;
}

.hds-side-nav__section {
  & + & { margin-top: 28px; }
}

.hds-side-nav__section-title {
  margin-bottom: 12px;
  padding: 0 var(--token-side-nav-item-padding-horizontal);
  color: var(--token-side-nav-foreground-faint);
}

.hds-side-nav__list {
  margin: 0;
  padding: 0;
}

.hds-side-nav__list-item {
  display: flex;
  align-items: center;
  min-height: 36px;
  list-style-type: none; // Q: Should ul have role="list" added for accessibility?

  & + & { margin-top: 4px; }
}

.hds-side-nav__list-item-link {
  display: flex;
  align-items: center;
  width: 100%;
  min-height: 36px;
  padding: 0 var(--token-side-nav-item-padding-horizontal);
  color: var(--token-side-nav-foreground-primary);
  text-decoration: none;
  background: var(--token-side-nav-surface);
  border-color: transparent;
  border-radius: 5px;

  .hds-badge,
  .hds-badge-count {
    margin-left: 8px;
  }

  &:focus,
  &.mock-focus {
    @include hds-focus-ring-with-pseudo-element();
  }

  &:hover,
  &.hover {
    background: var(--token-side-nav-interactive-surface-hover);
    border-color: transparent;

    .hds-side-nav__list-item-label,
    .hds-side-nav__list-item-icon {
      color: var(--token-color-foreground-high-contrast);
    }
  }

  &:active,
  &.active {
    background: var(--token-side-nav-interactive-surface-active);

    .hds-side-nav__list-item-label,
    .hds-side-nav__list-item-icon {
      color: var(--token-color-foreground-high-contrast);
    }

    .hds-badge,
    .hds-badge-count {
      color: var(--token-color-foreground-primary);
      background: var(--token-color-surface-strong);
    }
  }
}

.hds-side-nav__list-item-label {
  color: var(--token-side-nav-foreground-primary);
  text-align: left;
}

.hds-side-nav__list-item-icon {
  margin-right: 8px;
}

// * Sub-component: Footer
// ---------------------------------------

// TODO ?
