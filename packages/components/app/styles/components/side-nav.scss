//
// SIDE-NAV
//

@use "../mixins/focus-ring" as *;

// WIP, naming, etc. will be refined... TODO: Add JSON for color tokens, etc.
:root {
  /* Sizes: */

  // header, body, footer "wrappers":
  --token-side-nav-wrapper-padding-horizontal: 16px;
  --token-side-nav-wrapper-padding-vertical: 16px;

  // header content:
  --token-side-nav-header-home-link-padding: 4px;
  --token-side-nav-header-home-link-logo-size: 48px;
  --token-side-nav-header-actions-spacing: 12px;

  // body content:
  --token-side-nav-body-list-margin-vertical: 24px;
  --token-side-nav-body-list-item-padding-horizontal: 8px;
  --token-side-nav-body-list-item-padding-vertical: 4px;
  --token-side-nav-body-list-item-content-spacing-horizontal: 8px;

  /* Colors: */

  /* SideNav container: */
  --token-side-nav-foreground-primary: #dedfe3;
  --token-side-nav-foreground-primary-strong: #fff;
  --token-side-nav-foreground-faint: #8c909c;
  --token-side-nav-surface: #0c0c0e;

  // Interactive elements:
  // base:
  --token-side-nav-interactive-surface-hover: #3b3d45;
  --token-side-nav-interactive-surface-active: #656a76;

  // selected / current:
  --token-side-nav-interactive-selected-surface-default: #656a76;
  --token-side-nav-interactive-selected-surface-hover: #3b3d45;
  --token-side-nav-interactive-selected-surface-active: #656a76;
}


// * SideNav Parent (wrapper) component
// -------------------------------------------------------------------

.hds-side-nav__wrapper {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  color: var(--token-side-nav-foreground-primary); // Default color
  background: var(--token-side-nav-surface);
}

.hds-side-nav__wrapper-header {
  padding: var(--token-side-nav-wrapper-padding-vertical) var(--token-side-nav-wrapper-padding-horizontal);
}

.hds-side-nav__wrapper-body {
  flex: 1;
  padding: var(--token-side-nav-wrapper-padding-vertical) var(--token-side-nav-wrapper-padding-horizontal);
  overflow-y: auto;
}

.hds-side-nav__wrapper-footer {
  padding: var(--token-side-nav-wrapper-padding-vertical) var(--token-side-nav-wrapper-padding-horizontal);
}

// * Header child elements
// ---------------------------------------

.hds-side-nav-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.hds-side-nav-header__logo {
  display: block;
  align-items: center;
  justify-content: center;
  width: var(--token-side-nav-header-home-link-logo-width);
  height: var(--token-side-nav-header-home-link-logo-height);
}

.hds-side-nav-header__actions {
  display: flex;

  > * + * { margin-left: var(--token-side-nav-header-actions-spacing); }
}

.hds-side-nav__home-link {
  display: block;
  width: 100%;
  height: 100%;
  padding: var(--token-side-nav-header-home-link-padding); // by design
  // TODO discuss with Cristiano/Christian if this needs to become a component-level token
  color: var(--token-color-foreground-high-contrast);
  border: 1px solid transparent;
  border-radius: 5px;

  &:focus,
  &.mock-focus {
    @include hds-focus-ring-with-pseudo-element();
  }

  &:hover,
  &.mock-hover {
    background: var(--token-side-nav-interactive-surface-hover);
  }

  &:active,
  &.mock-active {
    background: var(--token-side-nav-interactive-surface-active);
  }
}

// class name only, no component:
.hds-side-nav__dropdown {
  .hds-dropdown-toggle-icon {
    color: var(--token-side-nav-foreground-primary);

    &:hover {
      background: var(--token-side-nav-interactive-surface-hover);
    }

    &:active {
      background: var(--token-side-nav-interactive-surface-active);
    }
  }
}

// * Body child elements
// ---------------------------------------

.hds-side-nav__list-wrapper {
  & + & { margin-top: var(--token-side-nav-body-list-margin-vertical); }
}

.hds-side-nav__list-title {
  min-height: 34px;
  padding: 0 var(--token-side-nav-body-list-item-padding-horizontal);
  color: var(--token-side-nav-foreground-faint);
}

.hds-side-nav__list {
  margin: 0;
  padding: 0;
}

.hds-side-nav__list-item {
  display: flex;
  align-items: center;
  list-style-type: none; // Q: Should ul have role="list" added for accessibility?

  &:last-child { margin-bottom: 0; }
}

.hds-side-nav__list-item-link {
  display: flex;
  align-items: center;
  width: 100%;
  min-height: 36px;
  padding: var(--token-side-nav-body-list-item-padding-vertical) var(--token-side-nav-body-list-item-padding-horizontal);
  color: var(--token-side-nav-foreground-primary);
  text-decoration: none;
  background: var(--token-side-nav-surface);
  border-color: transparent;
  border-radius: 5px;

  .hds-badge,
  .hds-badge-count {
    margin-left: var(--token-side-nav-body-list-item-content-spacing-horizontal);
  }

  &:focus,
  &.mock-focus {
    @include hds-focus-ring-with-pseudo-element();
  }

  &:hover,
  &.mock-hover {
    background: var(--token-side-nav-interactive-surface-hover);
    border-color: transparent;

    .hds-side-nav__list-item-label,
    .hds-side-nav__list-item-icon {
      color: var(--token-color-foreground-high-contrast);
    }
  }

  &:active,
  &.mock-active {
    background: var(--token-side-nav-interactive-surface-active);

    .hds-side-nav__list-item-label,
    .hds-side-nav__list-item-icon {
      color: var(--token-color-foreground-high-contrast);
    }

    .hds-badge,
    .hds-badge-count {
      color: var(--token-color-foreground-primary);
      background: var(--token-color-surface-strong);
    }
  }
}

.hds-side-nav__list-item-label {
  color: var(--token-side-nav-foreground-primary);
  text-align: left;
}

.hds-side-nav__list-item-icon {
  flex: none;
  margin-right: var(--token-side-nav-body-list-item-content-spacing-horizontal);
}

.hds-side-nav__list-item-chevron {
  margin-left: auto;
  flex: none;
  padding-left: var(--token-side-nav-body-list-item-content-spacing-horizontal);
}
